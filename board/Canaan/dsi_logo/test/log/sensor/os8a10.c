/* Copyright (c) 2022, Canaan Bright Sight Co., Ltd
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 1. Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
#include "hw_dev/inc/dev_hw.h"
#include "hw_dev/inc/ext_ctl_hw.h"
#include "sensor/sensor.h"
/*
*
*/
void os8a10_init(void)
{
	I2cWr(0x0100,0x00);
	msleep(1);
	I2cWr(0x0103,0x01);
	msleep(1);
	I2cWr(0x0303,0x01);
	msleep(1);
	I2cWr(0x0305,0x54);
	msleep(1);
	I2cWr(0x0306,0x00);
	msleep(1);
	I2cWr(0x0307,0x02);
	msleep(1);
	I2cWr(0x0308,0x03);
	msleep(1);
	I2cWr(0x0309,0x04);
	msleep(1);
	I2cWr(0x0325,0x48);
	msleep(1);
	I2cWr(0x032a,0x02);
	msleep(1);
	I2cWr(0x300f,0x11);
	msleep(1);
	I2cWr(0x3010,0x01);
	msleep(1);
	I2cWr(0x3011,0x04);
	msleep(1);
	I2cWr(0x3012,0x41);
	msleep(1);
	I2cWr(0x3016,0xf0);
	msleep(1);
	I2cWr(0x301e,0x98);
	msleep(1);
	I2cWr(0x3031,0xa9);
	msleep(1);
	I2cWr(0x3103,0x92);
	msleep(1);
	I2cWr(0x3104,0x01);
	msleep(1);
	I2cWr(0x3106,0x10);
	msleep(1);
	I2cWr(0x3400,0x04);
	msleep(1);
	I2cWr(0x3025,0x03);
	msleep(1);
	I2cWr(0x3425,0x01);
	msleep(1);
	I2cWr(0x3428,0x01);
	msleep(1);
	I2cWr(0x3406,0x08);
	msleep(1);
	I2cWr(0x3408,0x03);
	msleep(1);
	I2cWr(0x340c,0xff);
	msleep(1);
	I2cWr(0x340d,0xff);
	msleep(1);
	I2cWr(0x031e,0x0a);
	msleep(1);
	I2cWr(0x3501,0x08);
	msleep(1);
	I2cWr(0x3502,0xe5);
	msleep(1);
	I2cWr(0x3505,0x83);
	msleep(1);
	I2cWr(0x3508,0x00);
	msleep(1);
	I2cWr(0x3509,0x80);
	msleep(1);
	I2cWr(0x350a,0x04);
	msleep(1);
	I2cWr(0x350b,0x00);
	msleep(1);
	I2cWr(0x350c,0x00);
	msleep(1);
	I2cWr(0x350d,0x80);
	msleep(1);
	I2cWr(0x350e,0x04);
	msleep(1);
	I2cWr(0x350f,0x00);
	msleep(1);
	I2cWr(0x3600,0x00);
	msleep(1);
	I2cWr(0x3603,0x2c);
	msleep(1);
	I2cWr(0x3605,0x50);
	msleep(1);
	I2cWr(0x3609,0xdb);
	msleep(1);
	I2cWr(0x3610,0x39);
	msleep(1);
	I2cWr(0x360c,0x01);
	msleep(1);
	I2cWr(0x3628,0xa4);
	msleep(1);
	I2cWr(0x362d,0x10);
	msleep(1);
	I2cWr(0x3660,0xd3);
	msleep(1);
	I2cWr(0x3661,0x06);
	msleep(1);
	I2cWr(0x3662,0x00);
	msleep(1);
	I2cWr(0x3663,0x28);
	msleep(1);
	I2cWr(0x3664,0x0d);
	msleep(1);
	I2cWr(0x366a,0x38);
	msleep(1);
	I2cWr(0x366b,0xa0);
	msleep(1);
	I2cWr(0x366d,0x00);
	msleep(1);
	I2cWr(0x366e,0x00);
	msleep(1);
	I2cWr(0x3680,0x00);
	msleep(1);
	I2cWr(0x36c0,0x00);
	msleep(1);
	I2cWr(0x3701,0x02);
	msleep(1);
	I2cWr(0x373b,0x02);
	msleep(1);
	I2cWr(0x373c,0x02);
	msleep(1);
	I2cWr(0x3736,0x02);
	msleep(1);
	I2cWr(0x3737,0x02);
	msleep(1);
	I2cWr(0x3705,0x00);
	msleep(1);
	I2cWr(0x3706,0x72);
	msleep(1);
	I2cWr(0x370a,0x01);
	msleep(1);
	I2cWr(0x370b,0x30);
	msleep(1);
	I2cWr(0x3709,0x48);
	msleep(1);
	I2cWr(0x3714,0x21);
	msleep(1);
	I2cWr(0x371c,0x00);
	msleep(1);
	I2cWr(0x371d,0x08);
	msleep(1);
	I2cWr(0x3740,0x1b);
	msleep(1);
	I2cWr(0x3741,0x04);
	msleep(1);
	I2cWr(0x375e,0x0b);
	msleep(1);
	I2cWr(0x3760,0x10);
	msleep(1);
	I2cWr(0x3776,0x10);
	msleep(1);
	I2cWr(0x3781,0x02);
	msleep(1);
	I2cWr(0x3782,0x04);
	msleep(1);
	I2cWr(0x3783,0x02);
	msleep(1);
	I2cWr(0x3784,0x08);
	msleep(1);
	I2cWr(0x3785,0x08);
	msleep(1);
	I2cWr(0x3788,0x01);
	msleep(1);
	I2cWr(0x3789,0x01);
	msleep(1);
	I2cWr(0x3797,0x04);
	msleep(1);
	I2cWr(0x3762,0x11);
	msleep(1);
	I2cWr(0x3800,0x00);
	msleep(1);
	I2cWr(0x3801,0x00);
	msleep(1);
	I2cWr(0x3802,0x00);
	msleep(1);
	I2cWr(0x3803,0x0c);
	msleep(1);
	I2cWr(0x3804,0x0e);
	msleep(1);
	I2cWr(0x3805,0xff);
	msleep(1);
	I2cWr(0x3806,0x08);
	msleep(1);
	I2cWr(0x3807,0x6f);
	msleep(1);
	I2cWr(0x3808,0x0f);
	msleep(1);
	I2cWr(0x3809,0x00);
	msleep(1);
	I2cWr(0x380a,0x08);
	msleep(1);
	I2cWr(0x380b,0x70);
	msleep(1);
	I2cWr(0x380c,0x10);
	msleep(1);
	I2cWr(0x380d,0x30);
	msleep(1);
	I2cWr(0x380e,0x09);
	msleep(1);
	I2cWr(0x380f,0x0a);
	msleep(1);
	I2cWr(0x3813,0x10);
	msleep(1);
	I2cWr(0x3814,0x01);
	msleep(1);
	I2cWr(0x3815,0x01);
	msleep(1);
	I2cWr(0x3816,0x01);
	msleep(1);
	I2cWr(0x3817,0x01);
	msleep(1);
	I2cWr(0x381c,0x00);
	msleep(1);
	I2cWr(0x3820,0x00);
	msleep(1);
	I2cWr(0x3821,0x04);
	msleep(1);
	I2cWr(0x3823,0x08);
	msleep(1);
	I2cWr(0x3826,0x00);
	msleep(1);
	I2cWr(0x3827,0x08);
	msleep(1);
	I2cWr(0x382d,0x08);
	msleep(1);
	I2cWr(0x3832,0x02);
	msleep(1);
	I2cWr(0x3833,0x00);
	msleep(1);
	I2cWr(0x383c,0x48);
	msleep(1);
	I2cWr(0x383d,0xff);
	msleep(1);
	I2cWr(0x3d85,0x0b);
	msleep(1);
	I2cWr(0x3d84,0x40);
	msleep(1);
	I2cWr(0x3d8c,0x63);
	msleep(1);
	I2cWr(0x3d8d,0xd7);
	msleep(1);
	I2cWr(0x4000,0xf8);
	msleep(1);
	I2cWr(0x4001,0x2b);
	msleep(1);
	I2cWr(0x4004,0x01);
	msleep(1);
	I2cWr(0x4005,0x00);
	msleep(1);
	I2cWr(0x400a,0x01);
	msleep(1);
	I2cWr(0x400f,0xa0);
	msleep(1);
	I2cWr(0x4010,0x12);
	msleep(1);
	I2cWr(0x4018,0x00);
	msleep(1);
	I2cWr(0x4008,0x02);
	msleep(1);
	I2cWr(0x4009,0x0d);
	msleep(1);
	I2cWr(0x401a,0x58);
	msleep(1);
	I2cWr(0x4050,0x00);
	msleep(1);
	I2cWr(0x4051,0x01);
	msleep(1);
	I2cWr(0x4028,0x2f);
	msleep(1);
	I2cWr(0x4052,0x00);
	msleep(1);
	I2cWr(0x4053,0x80);
	msleep(1);
	I2cWr(0x4054,0x00);
	msleep(1);
	I2cWr(0x4055,0x80);
	msleep(1);
	I2cWr(0x4056,0x00);
	msleep(1);
	I2cWr(0x4057,0x80);
	msleep(1);
	I2cWr(0x4058,0x00);
	msleep(1);
	I2cWr(0x4059,0x80);
	msleep(1);
	I2cWr(0x430b,0xff);
	msleep(1);
	I2cWr(0x430c,0xff);
	msleep(1);
	I2cWr(0x430d,0x00);
	msleep(1);
	I2cWr(0x430e,0x00);
	msleep(1);
	I2cWr(0x4501,0x18);
	msleep(1);
	I2cWr(0x4502,0x00);
	msleep(1);
	I2cWr(0x4600,0x00);
	msleep(1);
	I2cWr(0x4601,0x20);
	msleep(1);
	I2cWr(0x4603,0x01);
	msleep(1);
	I2cWr(0x4643,0x00);
	msleep(1);
	I2cWr(0x4640,0x01);
	msleep(1);
	I2cWr(0x4641,0x04);
	msleep(1);
	I2cWr(0x4800,0x44);
	msleep(1);
	I2cWr(0x4809,0x2b);
	msleep(1);
	I2cWr(0x4813,0x90);
	msleep(1);
	I2cWr(0x4817,0x04);
	msleep(1);
	I2cWr(0x4833,0x18);
	msleep(1);
	I2cWr(0x4837,0x23);
	msleep(1);
	I2cWr(0x483b,0x00);
	msleep(1);
	I2cWr(0x484b,0x03);
	msleep(1);
	I2cWr(0x4850,0x7c);
	msleep(1);
	I2cWr(0x4852,0x06);
	msleep(1);
	I2cWr(0x4856,0x58);
	msleep(1);
	I2cWr(0x4857,0xaa);
	msleep(1);
	I2cWr(0x4862,0x0a);
	msleep(1);
	I2cWr(0x4869,0x18);
	msleep(1);
	I2cWr(0x486a,0xaa);
	msleep(1);
	I2cWr(0x486e,0x03);
	msleep(1);
	I2cWr(0x486f,0x55);
	msleep(1);
	I2cWr(0x4875,0xf0);
	msleep(1);
	I2cWr(0x5000,0x89);
	msleep(1);
	I2cWr(0x5001,0x42);
	msleep(1);
	I2cWr(0x5004,0x40);
	msleep(1);
	I2cWr(0x5005,0x00);
	msleep(1);
	I2cWr(0x5180,0x00);
	msleep(1);
	I2cWr(0x5181,0x10);
	msleep(1);
	I2cWr(0x580b,0x03);
	msleep(1);
	I2cWr(0x4d00,0x03);
	msleep(1);
	I2cWr(0x4d01,0xc9);
	msleep(1);
	I2cWr(0x4d02,0xbc);
	msleep(1);
	I2cWr(0x4d03,0xc6);
	msleep(1);
	I2cWr(0x4d04,0x4a);
	msleep(1);
	I2cWr(0x4d05,0x25);
	msleep(1);
	I2cWr(0x4700,0x2b);
	msleep(1);
	I2cWr(0x4e00,0x2b);
	msleep(1);
	I2cWr(0x3501,0x09);
	msleep(1);
	I2cWr(0x3502,0x01);
	msleep(1);
	I2cWr(0x0100,0x01);
	msleep(1);
}

void os8a10_4k_sensor_config(void)
{
    
     Release_os8a10_rstn();
     sleep(1);
     Release_os8a10_pwdn();
     sleep(1);
     Set_manu(0x01);
     Set_manu(0x00);
     os8a10_init();
    return;
}